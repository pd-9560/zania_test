# zania_test

repo containing code for the test question given by zania here
https://docs.google.com/document/d/1nxbOkXFW3dylcFRnFWHNLpLSvOwVf3FBQbkD3tqicjU/edit?pli=1#heading=h.f0et3qrf3ni5

# Requirements

This software has been tested on Python 3.10 and might not work on other distributions of python due to incompatible dependencies. Use the following command to install python3.10 and run the code on a linux machine

## Installing Python

cd PROJECT_DIRECTORY
sudo apt update && sudo apt upgrade -y
sudo add-apt-repository ppa:deadsnakes/ppa
sudo apt install python3.10 python3.10-venv

## Setting up project environment

python3.10 -m venv zania
./zania/bin/activate
pip install -r requirements.txt

## Initial setup

cd QAbot
python manage.py migrate
export OPENAI_API_KEY='your-open-ai-api-key'

## Running the server

python manage.py runserver

# Developer notes

If the above instructions are followed correctly the server should start serving
http requests on port 8080 of localhost.
The project contains a single directory to implement the chatbot which is "integration".

## Data Layer

integration app contains an KnowledgeService class under "integration.rag_services.knowledge_service" which handles integration with vectordb2(https://github.com/kagisearch/vectordb) used for embedding, storing and searching context documents as provided by user

## Business Logic Layer

integration app contains an Bot class under "integration.bot.bot". This class implements a Has-A relation with KnowledgeService and leverages it to implement a chat bot. This class also contains logic for third party integration with OpenAI API.

## API Layer

integration app implements a single api to get context and questions as JSON or PDF files and return response generated by GPT using provided context. The API contract can be found here -> https://lunar-escape-139779.postman.co/workspace/zania_test~7f499042-3eb8-4e64-a7ce-2bbb284e3ba9/collection/23554543-df06ae4b-eee2-4f92-8888-83c99e8526d9?action=share&creator=23554543 with example requests
Sample context and Questions fiels used for testing can be found under
QAbot/temp_files/
